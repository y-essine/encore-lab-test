<div class="flex flex-col items-center">

  <div *ngIf="!isLoaded" class="p-6 pb-0">
    <GenerateButton [isLoading]="isLoading" (buttonClick)="onClick()" />
  </div>



  <div *ngIf="isLoaded" class="px-2  absolute top-0 w-full h-24 ">
    <div class="bg-primary z-10 w-full h-full flex items-center justify-center ">
      <SearchBox (search)="onSearch($event)" [isDisabled]="!isLoaded || isLoading" />
    </div>
  </div>


  <!-- <div *ngIf="isLoaded" class="columns-1 sm:columns-2 lg:columns-3 xl:columns-4 gap-4">
    <div *ngFor="let row of filteredImages | transpose: 3">
      <div *ngFor="let image of row" class="pt-4">
        <ImageBox [image]="image" />
      </div>
    </div>
  </div> -->

  <cdk-virtual-scroll-viewport [itemSize]="calculatedItemSize" *ngIf="isLoaded"
    class="h-[calc(100vh-200px)] w-screen overflow-y-scroll" #VirtualScroller>
    <div class="h-24"></div>

    <div class="flex flex-wrap justify-center gap-4 px-6">
      <div *cdkVirtualFor="let image of filteredImages" class="w-64 h-[170px]">
        <ImageBox [image]="image" />
      </div>
    </div>
  </cdk-virtual-scroll-viewport>
  <!-- <div *ngIf="isLoaded" class="flex justify-center flex-wrap gap-4 p-6">
    <div *ngFor="let image of filteredImages" class="w-64 h-[170px]">
      <ImageBox [image]="image" />
    </div>
  </div> -->

</div>